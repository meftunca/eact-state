'use strict';Object.defineProperty(exports,"__esModule",{value:!0});function _interopDefault(a){return a&&"object"==typeof a&&"default"in a?a["default"]:a}var React=require("react"),React__default=_interopDefault(React);function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _extends(){return _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends.apply(this,arguments)}const{Consumer,Provider}=React.createContext();var Consumer$1=a=>b=>c=>React__default.createElement(Consumer,null,d=>React__default.createElement(b,_extends({},c,inject(a,d))));const inject=(a,b)=>{let c={};if(!Array.isArray(a)&&"object"==typeof a)throw new Error("Just Using Array");if(Array.isArray(a))for(let d in a)c[d]=b[d];else c[a]=b[a];return c};class GStateProvider extends React.Component{constructor(a){super(a),_defineProperty(this,"setGState",()=>{let{children:a,...b}=this.props;const c=getStore(b);this.setState({...c})});let{children:b,...c}=this.props;this.state=getStore(c)}componentDidMount(){let{children:a,...b}=this.props;const c=getStore(b);getTrigger(c,this.setGState)}render(){return React__default.createElement(Provider,{value:this.state},this.props.children)}}const getStore=a=>createObject(Object.entries(a)),createObject=a=>{let b={};return a.map(a=>b[a[0]]=a[1]),b},getTrigger=(a,b)=>{Object.values(a).map(a=>Object.defineProperty(a,"setState",{value:b,enumerable:!1,writable:!1,configurable:!1}))},action=(a,b,c)=>{let d=c.value;return{enumerable:!1,configurable:!1,value:function(){d(...arguments),this.setState()}}},actionWithPerformance=(a,b,c)=>{let d=c.value;return{enumerable:!1,configurable:!1,value:function(){let a=performance.now();d(...arguments),this.setState();let b=performance.now();console.log("Call to doSomething took "+(b-a).toFixed(3)+" milliseconds.")}}},readOnly=(a,b,c)=>(c.writable=!1,c),observable=(a,b,c)=>{let d=c.value;// descriptor.writable = true;
return c={},c.configurable=!0,c.enumerable=!0,c.get=function(){return d},c.set=function(a,...b){console.log("newValue :",a),d=a,this.setState()},c},log=(a,b,c)=>{const d=c.value;return"function"==typeof d&&(c.value=function(...a){try{const b=d.apply(this,a);return console.log(`Result: ${b}`),b}catch(a){throw console.log(`Error: ${a}`),a}}),c},decoratorList={action,actionWithPerformance,readOnly,observable,log};var Decorator=(a,b)=>{let c="function"==typeof a?new a:a;for(let d in b){let a=decoratorList[b[d]];Array.isArray(a)||(a=[a]);const e=Object.getOwnPropertyDescriptor(c,d),f=a.reduce((a,b)=>b(c[d],d,a),e);f&&Object.defineProperty(c,d,f)}return c};exports.GStateProvider=GStateProvider,exports.decorate=Decorator,exports.useGState=Consumer$1;
//# sourceMappingURL=index.js.map
